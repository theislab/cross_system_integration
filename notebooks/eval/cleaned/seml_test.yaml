# Pancreas conditions
# Run selected params (worked well or for comparison) for presentation plots & eval
seml:
  executable: /om2/user/khrovati/code/cross_system_integration/notebooks/eval/cleaned/run_integration_seml.py
  name: csi_eval
  output_dir: /om2/user/khrovati/data/cross_system_integration/eval/test/logs # CHANGE! OUT!
  project_root_dir:  /om2/user/khrovati/code/cross_system_integration/notebooks/eval/cleaned/
  conda_environment: csi
  
slurm:
  sbatch_options_template: GPU
  sbatch_options:
    mem: 5G          # memory, set to 32, for pancreas this could be 10Gb
    cpus-per-task: 4  # num cores, set to 4
    time: 0-30:00     # max time, D-HH:MM, set to 0-08:00
    nice: 10000

fixed:
  path_save: /om2/user/khrovati/data/cross_system_integration/eval/test/ # CHANGE! OUT!
  # testing !!!!!!
  testing: 1
  max_epochs: 2
  # Model params
  system_decoders: 0
  # Task
  eval_type: integration
  # Data
  path_adata: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/test/combined_orthologuesHVG.h5ad
  fn_moransi: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/combined_orthologuesHVG_moransiGenes.pkl
  group_key: cell_type_eval
  batch_key: batch
  system_key: system
  n_cells_eval: 100000
  # Adapt below for scGLUE and saturm
  conda_env: csi
  pca_key: X_pca_system
       
  
grid:
  seed_num:
    type: choice
    options:
      - 1
      
internal:
    fixed:
      params_opt: internal
      
scvi:
    fixed:
      model: scvi
      params_opt: scvi

scglue:
    fixed:
      model: scglue
      conda_env: scglue
      params_opt: scglue
      gene_graph: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/combined_orthologuesHVG_geneMapping.tsv

scglue_double:
    fixed:
      model: scglue
      conda_env: scglue
      params_opt: scglue_double
      gene_graph: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/combined_nonortholHVG_geneMapping.tsv
      path_adata: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/test/combined-mmPart_nonortholHVG.h5ad
      path_adata_2: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/test/combined-hsPart_nonortholHVG.h5ad
      fn_expr: /om2/user/khrovati/data/cross_system_integration/pancreas_conditions_MIA_HPAP2/test/combined_orthologuesHVG.h5ad

      
# saturn:
#     fixed:
#       model: saturn
#       conda_env: saturn
#       params_opt: saturn